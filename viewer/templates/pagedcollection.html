% extends "thing.html"

{% block title %} - ${ui.SEARCH_RESULTS.label}{% endblock %}

% macro result_controls(details)
  <div class="panel panel-default result-controls">
    % if details == 'true'
    <div class="search-details">
      <span class="search-keyword">
          
        % if thing.query and thing.totalItems > 0
          Sökning på: <i>"${thing.query}"</i>
          % if thing.totalItems
            gav ${thing.totalItems} träffar.
          % endif
        % elif thing.value
          Sökning: ${thing.value}
        % else
          Sökning på: <i>"${thing.query}"</i> gav inga träffar.
        % endif
      </span>
      <span class="search-items-per-page pull-right">
        % if thing.totalItems
        Visar resultat
          ${thing.itemOffset + 1}-${min(thing.totalItems, thing.itemOffset + thing.itemsPerPage)}.
        % endif
      </span>
    </div>
    % endif
    
    <div class="search-buttons">
      % if thing.firstPage and thing.previousPage
      <a class="btn btn-primary pagination-firstpage" href="${thing.firstPage[ID]}">Första</a>
      % else
      <a class="btn btn-primary pagination-firstpage" disabled>Första</a>
      % endif
      % if thing.previousPage
      <a class="btn btn-primary pagination-back" href="${thing.previousPage[ID]}">Föregående</a>
      % else
      <a class="btn btn-primary pagination-back" disabled>Föregående</a>
      % endif
      % if thing.nextPage
      <a class="btn btn-primary pagination-next" href="${thing.nextPage[ID]}">Nästa</a>
      % else
      <a class="btn btn-primary pagination-next" disabled>Nästa</a>
      % endif
    </div>
    <!-- ${viewthing(thing, element='article', classes='')} -->
  </div>
% endmacro

% block content
  % set items = thing.pop('items')
<div class="alert alert-warning"><i class="fa fa-exclamation-circle"></i> Observera att den nuvarande sökfunktionen saknar relevanssortering.</div>
<div class="row">
  <div class="col-md-3 hidden-xs hidden-sm">
    <ul class="list-group facet-controls">
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
    </ul>
  </div>
  
  <div class="col-md-9">
    <div class="panel panel-default search-controls">
      
      <form action="/find" method="GET">
        <label class="type-label">
          Välj typ
        </label>
        <div class="btn-group type-buttons" data-toggle="buttons" role="group" aria-label="Välj typ">
          <!-- % if types -->
          <!-- % for type in types -->
          <label class="btn btn-default">
            <input name="type" id="option1" value="all" type="radio">Alla
          </label>
          <label class="btn btn-default">
            <input name="type" id="option2" value="placeholder" type="radio">Placeholder
          </label>
          <label class="btn btn-default">
            <input name="type" id="option3" value="test" type="radio">Test
          </label>
          <label class="btn btn-default">
            <input name="type" id="option4" value="lorem" type="radio">Lorem
          </label>

          <!-- % endfor -->
          <!-- % else -->
        </div>
        
        <div class="form-inline">
          <div class="form-group search-input">
            <input name="limit" value="50" type="hidden" />
            <label class="search-label" id="searchlabel" for="q">
              Sök term
            </label>
            <input aria-labelledby="searchlabel" class="form-control search-input" name="q" id="q" value="" />
            <button class="search-button btn btn-primary"><i class="fa fa-search"></i> Sök</button>
          </div>
        </div>
      </form>
  </div>
  </div>
  <div class="col-md-12 hidden-md hidden-lg">
    <ul class="list-group facet-controls">
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
      <li class="list-group-item">Facet</li>
    </ul>
  </div>
  <div class="col-md-9">
    <h1>${self.title()}</h1>
    
    ${ result_controls('true') }
    % if items
    % for item in items
      ${viewthing(item, classes='panel panel-default hit-item', rel='items')}
    % endfor
      ${ result_controls('false') }
    % else

    % endif
  </div>
</div>
% endblock
