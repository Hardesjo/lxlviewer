% extends "base.html"
{% from 'toolbar.html' import toolbar %}

{% block bodyattrs %}vocab="${config.VOCAB_IRI}" id="editor"{% endblock %}

% block content
<!DOCTYPE html>
<meta charset="utf-8" />

<div id="appContainer">
<div id="loadingText">
  <h1><i class="fa fa-cog fa-spin"></i></h1>
  <h1><i class="fa fa-warning hidden"></i></h1>
  <span class="status"></span>
  <span class="error hidden"></span>
</div>
<div id="editorApp">
  % set thing = record['@graph'][0]
  % set typename = thing[TYPE]
  % set thing_url = view_url(thing[ID])
  <editor-controls :status="status" :editor-data="editorData" :messages="messages" v-if="initialized == true"></editor-controls>
  <header-component :status="status" v-if="initialized == true"></header-component>
  <form-component :status="status" focus="work" :linked="editorData.linked" v-if="initialized == true"></form-component>
  <form-component :status="status" focus="it" :linked="editorData.linked" v-if="initialized == true && status.state === 'it'"></form-component>

</div>
</div>

<script id="baseUriAlias" type="application/json">${config.BASE_URI_ALIAS|tojson|safe}</script>
<script id="data" type="application/json">${thing|tojson|safe}</script>
% endblock
